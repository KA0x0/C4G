#+TITLE: Guix Minimal-Packages
#+PROPERTY: header-args:scheme :tangle my-variables.scm

(use-modules (gnu packages) (gcrypt hash) 
(use-modules (gnu packages emacs))
(define-module (my-variables))

(define my-emacs-no-x
  (package
    (inherit emacs-no-x) 
      (snippet
        '(begin
          (with-directory-excursion "emacs/lisp"
            (for-each delete-file-recursively
              '("obsolete"
                "play")))))))

(define my-emacs
  (package
    (inherit emacs)
      (snippet
        '(begin
          (with-directory-excursion "emacs/lisp"
            (for-each delete-file-recursively
              '("obsolete"
                "play")))))))

(define-public my-packages
  (map specification->package
  '("bash"
   "bash-completion"
   "bzip2"
   "coreutils"
   "diffutils"
   "my-emacs-no-x"
   "direnv"
   "emacs-direnv"
   "emacs-evil"
   "emacs-evil-collection"
   "emacs-geiser"
   "emacs-geiser-guile"
   "emacs-guix"
   "emacs-magit"
   "emacs-org"
   "emacs-paredit" 
   "emacs-tramp"
   "emacs-undo-tree"
   "emacs-which-key"
   "eudev"
   "findutils"
   "gawk"
   "git"
   "grep"
   "guile"
   "guile-colorized"
   "guile-readline"
   "gzip"
   "kmod"
   "less"
   "lzip"
   "man-db"
   "nss-certs"
   "patch"
   "procps"
   "psmisc"
   "sed"
   "shadow"
   "tar"
   "util-linux-with-udev"
   "wget"
   "which"
   "xz")))